$fileManager = nemo
$menu = wofi --show drun
$mod = SUPER
$terminal = kitty

bind = $mod,              space, exec, $menu
bind = $mod, P,           exec, $terminal
bind = $mod, E,           exec, fileManager

bind = $mod, F,           fullscreen

bind = $mod, left,        hy3:movefocus, l
bind = $mod, right,       hy3:movefocus, r
bind = $mod, up,          hy3:movefocus, u
bind = $mod, down,        hy3:movefocus, d
bind = $mod ALT, left,    hy3:movefocus, l, visible
bind = $mod ALT, right,   hy3:movefocus, r, visible
bind = $mod ALT, up,      hy3:movefocus, u, visible
bind = $mod ALT, down,    hy3:movefocus, d, visible

bind = $mod SHIFT, left,  hy3:movewindow, l
bind = $mod SHIFT, right, hy3:movewindow, r
bind = $mod SHIFT, up,    hy3:movewindow, u
bind = $mod SHIFT, down,  hy3:movewindow , d

bind = $mod, page_down,   hy3:focustab, l
bind = $mod, page_up,     hy3:focustab, r

bind = $mod, home,        workspace, -1
bind = $mod, end,         workspace, +1

bind = $mod SHIFT, home,  hy3:movetoworkspace, -1
bind = $mod SHIFT, end,   hy3:movetoworkspace, +1

bind = $mod SHIFT, tab,   workspace, previous_per_monitor
bind = $mod SHIFT, tab,   hy3:movetoworkspace, previous_per_monitor

bind = $mod,     C,       hy3:makegroup, h
bind = $mod,     V,       hy3:makegroup, v
bind = $mod,     S,       hy3:makegroup, tab
bind = $mod,     G,       hy3:makegroup, opposite

bind = $mod ALT, C,       hy3:changegroup, h
bind = $mod ALT, V,       hy3:changegroup, v
bind = $mod ALT, S,       hy3:changegroup, toggletab
bind = $mod ALT, G,       hy3:changegroup, opposite

bind = $mod, E,           hy3:setephemeral, true
bind = $mod SHIFT, E,     hy3:setephemeral, false

bind = $mod, U,           hy3:changefocus, raise
bind = $mod SHIFT, U,     hy3:changefocus, lower

bind = $mod, O,           hy3:changefocus, tab
bind = $mod SHIFT, O,     hy3:changefocus, tabnode

bind = $mod, Y,           hy3:changefocus, top
bind = $mod SHIFT, Y,     hy3:changefocus, bottom

bind = $mod, L,           hy3:togglefocuslayer
bind = $mod SHIFT, L,     togglefloating

bind = $mod,              K, killactive
bindp = $mod SHIFT, K,    hy3:killactive

bind = $mod, N, togglespecialworkspace, magic
bind = $mod SHIFT, N, movetoworkspace, special:magic

# this is a bit shit
bind = $mod, grave,       hyprexpo:expo, toggle

bind = $mod CTRL, Q,      exit
bind = $mod SHIFT, D,     hy3:debugnodes

bind = $mod, mouse_down,  workspace, e-1
bind = $mod, mouse_up,    workspace, e+1

bind = $mod SHIFT, mouse_down,  hy3:movetoworkspace, e-1
bind = $mod SHIFT, mouse_up,    hy3:movetoworkspace, e+1

bindm = $mod, mouse:272,   movewindow
bindm = $mod, mouse:273,   resizewindow

# env = XCURSOR_SIZE,24
# env = HYPRCURSOR_SIZE,24

# Switch workspaces with mainMod + [0-9]
bind = $mod, 1, workspace, 1
bind = $mod, 2, workspace, 2
bind = $mod, 3, workspace, 3
bind = $mod, 4, workspace, 4
bind = $mod, 5, workspace, 5
bind = $mod, 6, workspace, 6
bind = $mod, 7, workspace, 7
bind = $mod, 8, workspace, 8
bind = $mod, 9, workspace, 9
bind = $mod, 0, workspace, 10

# Move active window to a workspace with mod + SHIFT + [0-9]
bind = $mod SHIFT, 1, hy3:movetoworkspace, 1
bind = $mod SHIFT, 2, hy3:movetoworkspace, 2
bind = $mod SHIFT, 3, hy3:movetoworkspace, 3
bind = $mod SHIFT, 4, hy3:movetoworkspace, 4
bind = $mod SHIFT, 5, hy3:movetoworkspace, 5
bind = $mod SHIFT, 6, hy3:movetoworkspace, 6
bind = $mod SHIFT, 7, hy3:movetoworkspace, 7
bind = $mod SHIFT, 8, hy3:movetoworkspace, 8
bind = $mod SHIFT, 9, hy3:movetoworkspace, 9
bind = $mod SHIFT, 0, hy3:movetoworkspace, 10

bindl = , XF86AudioRaiseVolume, exec, swayosd-client --output-volume raise --max-volume 100
bindl = , XF86AudioLowerVolume, exec,  swayosd-client --output-volume lower 
bindl = , XF86AudioMute, exec, swayosd-client --output-volume mute-toggle
bindl = , XF86AudioMicMute, exec, swayosd-client --input-volume mute-toggle
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPrev, exec, playerctl previous

# Ignore maximize requests from apps. 
windowrulev2 = suppressevent maximize, class:.*

# Fix some dragging issues with XWayland
windowrulev2 = nofocus, class:^$, title:^$, xwayland:1, floating:1, fullscreen:0, pinned:0

# no anim when going fullscreen
windowrulev2 = noanim, class:.*, fullscreen:1

# startup apps
windowrulev2 = workspace 9 silent, class:obsidian 
windowrulev2 = workspace 8 silent, class:Slack
windowrulev2 = workspace 7 silent, class:Steam

# tags
windowrulev2 = tag +term, class:kitty
windowrulev2 = tag +edit, title:hx*
windowrulev2 = tag +www, title:(.*)(Floorp|Firefox)
windowrulev2 = tag +game, class:steam_app_(.*)

# toolkit-specific scale
env = GDK_SCALE,2
env = XCURSOR_SIZE,32

# Exec
# 
exec-once = waybar -c ~/.config/waybar/config.jsonc
exec-once = swaybg -i ~/Pictures/wallpaper/dark-water.jpg
# servers / daemons
exec-once = ~/.config/waybar/scripts/timer serve > /tmp/timer.log 2>&1
exec-once = gnome-keyring-daemon --start --daemonize --components=ssh,secrets && export SSH_AUTH_SOCK
exec-once = swayosd-server
exec-once = copyq --start-server
exec-once = udiskie
# tray apps
execr-once = blueman-tray
execr-once = 1password --silent
# startup apps
exec-once = slack
exec-once = obsidian
exec-once = steam
exec-once = $term
exec-once = floorp

#
# Variables
# 
general {
  gaps_in = 5
  gaps_out = 20

  border_size = 1

  col.active_border = rgb(eaff00) rgb(bb2200) 70deg
  col.inactive_border = rgb(223366)

  resize_on_border = true
  allow_tearing = true

  layout = hy3

  snap {
    enabled = 1
    monitor_gap = 20
  }
}


render {
  # try for bonus performance in games
  direct_scanout = 1
  explicit_sync = true
}
decoration {
  rounding = 0

  active_opacity = 1.0
  # inactive_opacity = 0.95
  dim_inactive = true
  dim_strength = 0.2

  shadow {
    enabled = true
    range = 4
    render_power = 3
    color = rgba(1a1a1aee)
  }

  blur {
    enabled = true
    size = 3
    passes = 3
    # xray = 1
    input_methods = true
    
  }
}

animations {
  enabled = true
  first_launch_animation = false
}


input {
  kb_layout = us
  kb_variant =
  kb_model =
  kb_options = compose:menu
  follow_mouse = 1
  accel_profile = flat
  sensitivity = 1.0
  follow_mouse_threshold = 5
}


group {
  groupbar {
    stacked = true
    gradients = false
    font_size = 30
    rounding = false
    gradient_rounding = 0
    # round_only_edges = 0
    gaps_in = 0
    gaps_out = 0
    text_color = rgb(ff0000)
    # keep_upper_gap = false
    # font_family = "3270 Nerd Font"
  }
  col.border_active =  rgb(eaff00) rgb(bb2200) 70deg
  col.border_inactive =  rgb(223366) rgb(444455) 70deg

}


misc {
  force_default_wallpaper = false
  disable_hyprland_logo = true
  disable_splash_rendering = true
  font_family = "Monaspace Argon Frozen"
  # adaptive sync - games only
  vrr = 3
  key_press_enables_dpms = true
}
binds {
  workspace_back_and_forth = true
  movefocus_cycles_fullscreen = true
  # workspace_focus_on = 0
  # allow_workspace_cycles = true
} 

xwayland {
  force_zero_scaling = true
}

plugin {
  hy3 {
    tabs {
      rounding = 0
      border_width = 1
      col.active = rgba(33ccff20)
      col.active.border = rgba(33ccffee)
      col.inactive = rgba(30303020)
      col.inactive.border = rgba(595959aa)
      col.urgent = rgba(ff223340)
      col.urgent.border = rgba(ff2233ee)
    }
    autotile {
      enable = 1
      trigger_width = 800
      trigger_height = 500
    }
  }
}

